/* ========================================
 ğŸŒ 1. åŸºæœ¬è¨­å®šï¼ˆTailwindå®Œå…¨æ’é™¤ï¼‰
======================================== */

/* === global variables (safe defaults) === */
:root {
  /* å®Ÿãƒ˜ãƒƒãƒ€ãƒ¼é«˜ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼é«˜ï¼ˆiPhoneå®‰å…¨åŸŸã‚’è€ƒæ…®ï¼‰ */
  --header-h: 53px;
  --footer-safe-pad: calc(54px + env(safe-area-inset-bottom, 0px));

  /* ä½¿ã„å›ã™å ´åˆã®åˆ¥åï¼ˆã‚ã‚Œã°ä¾¿åˆ©ï¼‰ */
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);

  /* å¿…è¦ãªã‚‰è‰²ç³»ã‚‚ã“ã“ã«çµ±ä¸€
  --sofia-bg: #ffffff;
  --sofia-fg: #0f1115;
  */
}

/* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åŸºæœ¬å®‰å®šåŒ–ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰ */
html, body {
  min-height: 100%;
  overflow-x: hidden;
}

/* ãƒ•ãƒƒã‚¿ãƒ¼å¸¯ã®åˆ†ã ã‘ãƒœãƒ‡ã‚£ä¸‹ã«ä½™ç™½ã‚’ç¢ºä¿ï¼ˆé‡ãªã‚Šé˜²æ­¢ãƒ»ä»»æ„ï¼‰ */
body {
  padding-bottom: var(--footer-safe-pad);
}






* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  font-family: 'Inter', 'Noto Sans JP', Arial, Helvetica, sans-serif;
  background: #f3f4f6;
  color: #222;
  line-height: 1.5;
  overflow-x: hidden;
}

/* ğŸŒˆ ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
}
::-webkit-scrollbar-thumb {
  background: linear-gradient(45deg, #8b5cf6, #ec4899);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(45deg, #7c3aed, #db2777);
}

/* ========================================
 ğŸ’³ 2. ã‚«ãƒ¼ãƒ‰UIï¼ˆCardStyle.tsx å…±é€šï¼‰
======================================== */

.page-wrap {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.card-box {
  width: 100%;
  max-width: 420px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  padding: 24px;
  margin-top: 20px;
}

/* ã‚¿ã‚¤ãƒˆãƒ« */
.title-block {
  text-align: center;
  margin-bottom: 20px;
}
.title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 12px;
}

/* ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ­ã‚´ */
.brand-row {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-bottom: 20px;
}
.brand-icon {
  height: 28px;
  object-fit: contain;
  opacity: 0.9;
  transition: transform 0.2s ease;
}
.brand-icon:hover {
  transform: scale(1.05);
}

/* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */
.form-block {
  display: flex;
  flex-direction: column;
  gap: 14px;
  margin-bottom: 20px;
}

.field-label {
  font-size: 13px;
  margin-bottom: 4px;
  color: #555;
}

/* å…¥åŠ›ãƒœãƒƒã‚¯ã‚¹ */
.input-box {
  position: relative;
  width: 100%;
  height: 48px;
  border: 1px solid #ccc;
  border-radius: 6px;
  background: #fafafa;
  overflow: hidden;
  margin-bottom: 12px;
  box-sizing: border-box;
}

/* æœ‰åŠ¹æœŸé™ã¨CVCã®æ¨ªä¸¦ã³ */
.two-col {
  display: flex;
  gap: 10px;
}

/* é€ä¿¡ãƒœã‚¿ãƒ³ */
.submit-btn {
  width: 100%;
  padding: 12px;
  background: #2563eb;
  color: #fff;
  font-weight: bold;
  border-radius: 6px;
  border: none;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s ease;
}
.submit-btn:hover {
  background: #1e4fd1;
}

/* ========================================
 ğŸš€ 3. PAY.JP iframe ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
======================================== */

.input-box > div {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.input-box iframe,
div.input-box > div > iframe {
  all: unset !important;
  display: block !important;
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 50px !important;
  min-height: 50px !important;
  border: none !important;
  background: transparent !important;
}

/* ========================================
 ğŸ“„ 4. /pay/page.tsx ç”¨ UI
======================================== */

.pay-main {
  display: flex;
  flex-direction: column;
  align-items: center; /* âœ… æ¨ªã‚»ãƒ³ã‚¿ãƒ¼ */
  justify-content: center; /* âœ… ç¸¦ã‚»ãƒ³ã‚¿ãƒ¼ */
  padding: 15px 20px 0;
  background: linear-gradient(to bottom right, #eef4ff, #ffffff);
  font-family: 'Inter', 'Noto Sans JP', sans-serif;
  gap: 4px;
}

.pay-title {
  font-size: 28px;
  font-weight: bold;
  color: #222;
  margin-bottom: 0px;
  text-align: center;
}

/* ğŸ’³ ã‚«ãƒ¼ãƒ‰ç™»éŒ²ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.card-section {
  background: #ffffff;
  border-radius: 16px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  padding: 24px;
  width: 100%;
  max-width: 420px;
}

.card-section-title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 16px;
  color: #111;
}

/* âœ… ç™»éŒ²æ¸ˆã¿ãƒ†ã‚­ã‚¹ãƒˆ */
.card-registered-text {
  text-align: center;
  font-weight: bold;
  color: #16a34a;
  margin-bottom: 8px;
}

/* ğŸ’³ ã‚«ãƒ¼ãƒ‰ç™»éŒ²ãƒœã‚¿ãƒ³ */
.btn-card-register {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  background: #374151;
  color: #fff;
  font-weight: bold;
  transition: background 0.2s ease;
  margin-top: 8px;
}
.btn-card-register:hover {
  background: #1f2937;
}

/* ğŸ·ï¸ å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ æ  */
.card-input-frame {
  border: 1px solid #ccc;
  padding: 14px;
  border-radius: 10px;
  background: #f9fafb;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
  margin-bottom: 10px;
}

/* ğŸ”’ SSL ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
.ssl-text {
  font-size: 12px;
  color: #6b7280;
  text-align: center;
  margin-bottom: 10px;
}

/* ğŸ’³ ã‚«ãƒ¼ãƒ‰ç™»éŒ²é€ä¿¡ãƒœã‚¿ãƒ³ */
.btn-card-submit {
  width: 100%;
  padding: 14px;
  border-radius: 10px;
  font-weight: bold;
  color: #fff;
  background: #2563eb;
  transition: background 0.2s ease;
}
.btn-card-submit:hover {
  background: #1e4fd1;
}
.btn-disabled {
  background: #ccc !important;
  cursor: not-allowed;
}

/* ğŸŒ± ã‚µãƒ–ã‚¹ã‚¯ç™»éŒ²ãƒœã‚¿ãƒ³ */
.btn-subscribe {
  background: #16a34a;
  color: white;
  padding: 16px;
  border-radius: 12px;
  font-weight: bold;
  margin-top: 24px;
  max-width: 420px;
  width: 100%;
  transition: background 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 128, 0, 0.1);
}
.btn-subscribe:hover {
  background: #15803d;
}
.btn-subscribe:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
/* ============================
   ğŸ“± CardStyle æ±ºæ¸ˆãƒ•ã‚©ãƒ¼ãƒ 
============================ */
.payjp-wrap {
  width: 100%;
  max-width: 500px;
  min-width: 380px; /* âœ… ã“ã‚Œã§ç¸®å°ã‚’é˜²æ­¢ */
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f3f4f6;
  padding: 5px;
  margin: 0 auto;
}

/* âœ… ä¸‹ã®ã‚«ãƒ¼ãƒ‰ç™»éŒ²BOX */
.payjp-card-box {
  width: 100%;
  max-width: 820px;
  margin: 0 auto;
  background: #fff;
  border-radius: 16px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  padding: 24px;
  box-sizing: border-box;
}

.payjp-title {
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  margin-bottom: 16px;
  color: #222;
}

/* ãƒ­ã‚´æ¨ªä¸¦ã³ */
.brand-row {
  display: flex;
  justify-content: space-between; /* ğŸ”¥ å‡ç­‰é…ç½® */
  gap: 10px;
  margin-bottom: 20px;
}
.payjp-brand-icon {
  height: 28px;
  object-fit: contain;
  opacity: 0.9;
}

/* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  */
.payjp-form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  margin-bottom: 20px;
}

.payjp-label {
  font-size: 14px;
  font-weight: 500;
  color: #333;
  margin-bottom: 4px;
  display: block;
}

.payjp-input {
  width: 100%;
  height: 48px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #fafafa;
  box-sizing: border-box;
}

/* æœ‰åŠ¹æœŸé™ã¨CVC */
.payjp-two-col {
  display: flex;
  gap: 12px;
}

/* æ±ºæ¸ˆãƒœã‚¿ãƒ³ */
.payjp-submit-btn {
  width: 100%;
  padding: 14px;
  font-weight: bold;
  background: #2563eb;
  color: #fff;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.2s ease;
}
.payjp-submit-btn:hover {
  background: #1e4fd1;
}
.plan-panel {
  width: 100%;
  max-width: 420px; /* ğŸ”¥ 420pxã§å›ºå®š */
  margin: 0 auto 24px auto;
  background: #fff;
  padding: 20px;
  border-radius: 16px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

.plan-title {
  text-align: center;
  font-size: 22px;
  font-weight: bold;
  margin-bottom: 20px;
  color: #222;
}

.plan-card {
  border: 1px solid #ddd;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  background: #fff;
  transition: all 0.2s ease;
}
.plan-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}
.plan-card.selected {
  border: 2px solid #2563eb;
  background: #f0f7ff;
}

.plan-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}
.plan-header h3 {
  font-size: 18px;
  font-weight: 600;
  color: #333;
}
.selected-badge {
  font-size: 13px;
  color: #2563eb;
  font-weight: bold;
}

.plan-text {
  font-size: 15px;
  color: #444;
  margin-bottom: 6px;
}

.plan-btn {
  width: 100%;
  padding: 10px;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  transition: background 0.2s ease;
}
.plan-btn.active {
  background: #2563eb;
  color: #fff;
}
.plan-btn.active:hover {
  background: #1e4ed8;
}
.plan-btn.disabled {
  background: #ddd;
  color: #666;
  cursor: not-allowed;
}

/* ===== Reset & theme ===== */
:root {
  --maxw: 430px;
  --bg-app: #f9fafb;
  --bg-page: #fff;
  --text: #333;
  --primary: #7b4fff;
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  --radius: 12px;
}

/* Reset */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
html,
body {
  height: 100%;
}
body {
  background: var(--bg-page);
  color: var(--text);
  font-family: Inter, 'Noto Sans JP', system-ui, sans-serif;
  line-height: 1.5;
  /* âŒ ä¸­å¤®å¯„ã›ã¯ã“ã“ã«æ›¸ã‹ãªã„ */
}

/* Scrollbarï¼ˆä»»æ„ï¼‰ */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background: linear-gradient(45deg, #8b5cf6, #ec4899);
}

/* ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ */
.mu-inner {
  width: 100%;
  max-width: var(--maxw);
  margin: 0 auto;
}
.mu-card {
  background: #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
}

/* æ—§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ç™–ã‚’ç„¡åŠ¹åŒ–ï¼ˆä¿é™ºï¼‰ */
.page-wrapper,
.frame-container,
.dashboard-wrapper,
.app-frame,
.main-content {
  max-width: none !important;
  float: none !important;
  margin-left: auto !important;
  margin-right: auto !important;
}
body {
  display: block !important;
  justify-content: initial !important;
}
img,
iframe {
  display: block;
}

/* body ã§ä¸­å¤®å¯„ã›ã—ãªã„ï¼ˆå³å¯„ã›ã®å…ƒå‡¶ã‚’æ½°ã™ï¼‰ */
body {
  display: block !important;
  justify-content: initial !important;
}

/* main ã¯ä¿é™ºã§ä¸­å¤® 430px ã« */
main {
  max-width: 430px !important;
  margin: 0 auto !important;
  display: block !important;
}

/* æ—§ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¯ã‚»ã‚’æ®ºã™ï¼ˆå³å¯„ã‚Š/æ¨ªä¸¦ã³ã®ä¿é™ºï¼‰ */
.page-wrapper,
.frame-container,
.dashboard-wrapper,
.app-frame,
.main-content {
  max-width: none !important;
  float: none !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* ç”»åƒã‚„ iframe ä¸‹ã®è¬ã®éš™é–“å¯¾ç­–ï¼‹æ¨ªã‚¹ã‚¯æŠ‘æ­¢ */
img,
iframe {
  display: block;
}
html,
body {
  overflow-x: hidden;
}
/* === PAY ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ­ã‚´ã®ä¸¦ã³ã‚’å¼·åˆ¶ === */
.payjp-brand-row,
.brand-row {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important; /* ä¸­å¤®ã«ã—ãŸã‘ã‚Œã° center */
  gap: 12px !important;
  flex-wrap: wrap !important;
  margin: 8px 0 12px !important;
}

/* ãƒ­ã‚´ç”»åƒã®ã‚µã‚¤ã‚ºã‚’å›ºå®š */
.payjp-brand-row img,
.brand-row img,
.payjp-brand-icon,
.brand-icon {
  height: 28px !important;
  width: auto !important;
  display: block !important;
  object-fit: contain !important;
  opacity: 0.9;
}
main {
  padding-top: 0 !important;
  margin-top: 0 !important;
}
.mu-main::before {
  content: '';
  display: block;
  height: 20px; /* ä½™ç™½ã®é«˜ã•ã‚’èª¿æ•´ */
  background: #eff6fd; /* ç·‘è‰² */
}

.dashboard-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  margin-top: 0 !important;
}
.mu-page > div[style*='padding-top'] {
  padding-top: 0 !important;
}

.tile.disabled {
  opacity: 0.4;
  filter: grayscale(100%);
  cursor: not-allowed;
}

/* æ—§: é«˜ã•50~60pxç›¸å½“ â†’ æ–°: 40pxç¨‹åº¦ã«åœ§ç¸® */
.header,
.navbar {
  height: 42px; /* é«˜ã•ä½ã‚ã« */
  padding: 4px 10px; /* ä¸Šä¸‹paddingã‚’åœ§ç¸® */
  font-size: 14px; /* æ–‡å­—ã‚µã‚¤ã‚ºã‚‚å°‘ã—å°ã•ã */
}

.header .logo {
  height: 26px; /* ãƒ­ã‚´ç”»åƒã‚‚ç¸®ã‚ã‚‹ */
}

@font-face {
  font-family: 'ZenMaruGothic';
  src: url('/fonts/ZenMaruGothic-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

body {
  font-family: 'ZenMaruGothic', system-ui, sans-serif;
}

.pay-main {
  padding-bottom: var(--footer-safe-pad) !important;
}

/* ---- ä¸‹ç«¯ãŒéš ã‚Œãªã„ãŸã‚ã®å®‰å…¨ä½™ç™½ ---- */
:root {
  /* å®Ÿéš›ã®ã‚¿ãƒ–/ãƒ•ãƒƒã‚¿ãƒ¼ã®é«˜ã•ã«åˆã‚ã›ã¦èª¿æ•´ï¼ˆä¾‹: 64pxï¼‰ */
  --footer-height: 64px;
  /* ã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢è¾¼ã¿ã®ä¸‹ä½™ç™½ */
  --footer-safe-pad: calc(var(--footer-height) + env(safe-area-inset-bottom, 0px));
}
/* å¤ã„ iOS Safari å‘ã‘ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ */
@supports (padding-bottom: constant(safe-area-inset-bottom)) {
  :root {
    --footer-safe-pad: calc(var(--footer-height) + constant(safe-area-inset-bottom));
  }
}

/* å¿…è¦ãªã‚‰ */
html,
body {
  height: 100%;
}

/* â˜… ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¸¸æ™‚ã€Œä¸‹ä½™ç™½ã€ã‚’å¼·åˆ¶ä»˜ä¸ï¼ˆç¢ºå®Ÿã«å‹ã¤ãŸã‚ã« !importantï¼‰ */
.pay-main {
  padding-bottom: var(--footer-safe-pad) !important;
  box-sizing: border-box;
}

/* è§£ç´„ãƒœã‚¿ãƒ³ï¼ˆèµ¤ç³»ï¼‰ */
.btn-cancel {
  display: block;
  width: 100%;
  padding: 12px 0;
  margin-top: 8px;

  font-size: 14px;
  font-weight: bold;
  color: #fff;
  background-color: #dc3545;
  border: 1px solid #b52a36;
  border-radius: 10px;
  cursor: pointer;
  transition:
    background-color 0.2s,
    transform 0.1s;
}
.btn-cancel:hover:not(:disabled) {
  background-color: #c82333;
}
.btn-cancel:active:not(:disabled) {
  background-color: #a71d2a;
  transform: scale(0.98);
}
.btn-cancel:disabled {
  background-color: #f5b5bb;
  border-color: #e19a9f;
  cursor: not-allowed;
  opacity: 0.6;
}

/* ã‚«ãƒ¼ãƒ‰å‰Šé™¤ãƒœã‚¿ãƒ³ï¼ˆã‚°ãƒ¬ãƒ¼ç³»ï¼‰ */
.btn-remove-card {
  display: block;
  width: 100%;
  padding: 12px 0;
  margin-top: 8px;

  font-size: 14px;
  font-weight: bold;
  color: #333;
  background-color: #f0f2f5;
  border: 1px solid #cfd4da;
  border-radius: 10px;
  cursor: pointer;
  transition:
    background-color 0.2s,
    transform 0.1s;
}
.btn-remove-card:hover:not(:disabled) {
  background-color: #e6e9ee;
}
.btn-remove-card:active:not(:disabled) {
  background-color: #dde1e7;
  transform: scale(0.98);
}
.btn-remove-card:disabled {
  color: #9aa0a6;
  background-color: #f6f7f9;
  border-color: #e6e9ee;
  cursor: not-allowed;
  opacity: 0.6;
}

/* ===== åŒæœŸãƒœã‚¿ãƒ³ ===== */
.btn-sync {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.625rem 0.875rem;
  border-radius: 0.75rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(180deg, #6366f1 0%, #4f46e5 100%);
  box-shadow: 0 6px 20px rgba(79, 70, 229, 0.22);
  transition:
    transform 0.06s ease,
    filter 0.2s ease,
    box-shadow 0.2s ease,
    background 0.2s ease;
  will-change: transform;
}
.btn-sync:hover {
  filter: brightness(1.03);
  box-shadow: 0 8px 24px rgba(79, 70, 229, 0.28);
}
.btn-sync:active {
  transform: translateY(1px);
}
.btn-sync:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  box-shadow: none;
}

/* ã‚«ãƒ¼ãƒ‰ç™»éŒ²ãƒœã‚¿ãƒ³ã®ä¸‹ã«ä½™ç™½ï¼ˆå±¥æ­´ã¨è©°ã¾ãªã„ï¼‰ */
.pay-main .card-register-area {
  margin: 20px 0 28px; /* ä¸Š20 / ä¸‹28 */
  text-align: center;
}

/* å±¥æ­´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸Šä¸‹ä½™ç™½ï¼ˆä¸Šã‚’åºƒã‚ã€ä¸‹ã‚‚å°‘ã—ç©ºã‘ã‚‹ï¼‰ */
.pay-main .history-section {
  margin-top: 36px !important; /* â† é»’ãƒœã‚¿ãƒ³ã¨ååˆ†é›¢ã™ */
  margin-bottom: 20px !important; /* â† ä¸‹ã®æ“ä½œãƒœã‚¿ãƒ³ã¨ã‚‚é›¢ã™ */
}

/* ä¸‹3ãƒœã‚¿ãƒ³ï¼ˆè§£ç´„/å‰Šé™¤/ãƒ—ãƒ©ãƒ³ãƒã‚§ãƒƒã‚¯ï¼‰ã®ç­‰é–“éš” */
.pay-main .bottom-buttons {
  display: flex;
  flex-direction: column;
  gap: 22px; /* â† ãƒœã‚¿ãƒ³é–“ã®éš™é–“ã‚’ä¸€æ‹¬ã§ç®¡ç† */
  margin-top: 24px; /* å±¥æ­´ã¨ã®é–“ */
  text-align: center;
}

/* ä»»æ„ï¼šãƒœã‚¿ãƒ³å¹…ã‚’æƒãˆã‚‹ï¼ˆè¦‹ãŸç›®ãŒç· ã¾ã‚Šã¾ã™ï¼‰ */
.pay-main .bottom-buttons button,
.pay-main .card-register-area .btn-card-submit {
  width: 100%;
  max-width: 360px;
  margin: 0 auto;
}

/* ä»»æ„ï¼šdetails ã® summary ã‚‚å°‘ã—é«˜ã•ã‚’æŒãŸã›ã‚‹ */
.pay-main .history-acc__summary {
  padding: 10px 12px;
}

/* ===============================
   ãƒ—ãƒ©ãƒ³å±¥æ­´ã‚»ã‚¯ã‚·ãƒ§ãƒ³
=============================== */
.history-section {
  margin-top: 24px;
}

.history-acc {
  display: block;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #fafafa;
  padding: 8px 12px;
}

.history-acc__summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  font-weight: bold;
  font-size: 14px;
  list-style: none;
}

.history-acc__summary::-webkit-details-marker {
  display: none; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ä¸‰è§’ãƒãƒ¼ã‚«ãƒ¼ã‚’æ¶ˆã™ */
}

.history-acc__title {
  color: #333;
}

.history-acc__count {
  font-size: 12px;
  color: #666;
  margin-left: 8px;
}

.history-acc__chev {
  width: 16px;
  height: 16px;
  fill: none;
  stroke: #555;
  stroke-width: 2;
  margin-left: auto;
  transition: transform 0.2s;
}

details[open] .history-acc__chev {
  transform: rotate(180deg);
}

/* å±¥æ­´ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“ */
.history-section {
  margin-top: 32px;
}

/* ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®ãƒ˜ãƒƒãƒ€ãƒ¼ */
.history-acc__summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  padding: 12px 16px;
  border-radius: 10px;
  background: linear-gradient(90deg, #f9fafb, #f0f4f9);
  font-weight: 600;
  color: #333;
  user-select: none;
}

.history-acc__title {
  font-size: 15px;
}

.history-acc__count {
  font-size: 13px;
  color: #666;
  margin-left: 6px;
}

.history-acc__chev {
  width: 20px;
  height: 20px;
  fill: none;
  stroke: #666;
  stroke-width: 2;
  margin-left: auto;
  transition: transform 0.3s;
}

details[open] .history-acc__chev {
  transform: rotate(180deg);
}

/* å±¥æ­´ãƒªã‚¹ãƒˆ */
.history-list {
  margin-top: 14px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 0 4px 12px 4px;
}

/* å±¥æ­´ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚«ãƒ¼ãƒ‰é¢¨ã« */
.history-item {
  list-style: none;
  background: #fff;
  border-radius: 10px;
  padding: 14px 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  border: 1px solid #e5e7eb;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
}

.history-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* è¡Œã®ä¸­èº« */
.history-row {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.history-when {
  font-size: 14px;
  color: #444;
  font-weight: bold;
}

.history-what {
  font-size: 14px;
  color: #333;
}

.history-meta {
  font-size: 12px;
  color: #777;
  margin-top: 4px;
}

/* Footer ãŒè¨ˆæ¸¬ã—ã¦å…¥ã‚Œã‚‹ CSS å¤‰æ•°ã‚’ç¢ºå®Ÿã«åæ˜  */
body {
  padding-bottom: var(--footer-safe-pad);
}

/* ===== ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã®å…±é€šè‰²ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼šé’â†’ç´«ï¼‰ ===== */
:root,
.sof-container {
  --accent-start: #5cc0ff; /* å·¦è‰² */
  --accent-end: #b347ff; /* å³è‰² */
  --accent-height: 3px; /* ãƒ©ã‚¤ãƒ³ã®å¤ªã• */
  --accent-inset: 10px; /* å·¦å³ã®å†…å´ã‚ªãƒ•ã‚»ãƒƒãƒˆï¼ˆå¹ãå‡ºã—ã®ä¸¸ã¿ã«åˆã‚ã›ã¦èª¿æ•´ï¼‰ */
  --accent-glow: 0 0 10px rgba(131, 92, 255, 0.35); /* ã†ã£ã™ã‚‰ç™ºå…‰ */
}

/* ä¾‹ï¼šMu ãƒ†ãƒ¼ãƒï¼ˆè‰²æ›¿ãˆï¼‰ */
.sof-container[data-chat-theme='mu'] {
  --accent-start: #06b6d4; /* ã‚·ã‚¢ãƒ³ */
  --accent-end: #3b82f6; /* ãƒ–ãƒ«ãƒ¼ */
  --accent-glow: 0 0 10px rgba(59, 130, 246, 0.3);
}

/* ä»–ãƒ†ãƒ¼ãƒã®ä¾‹ */
.sof-container[data-chat-theme='alt'] {
  --accent-start: #ff7a18; /* ã‚ªãƒ¬ãƒ³ã‚¸ */
  --accent-end: #af002d; /* ãƒ”ãƒ³ã‚¯å¯„ã‚Šèµ¤ */
  --accent-glow: 0 0 10px rgba(255, 122, 24, 0.3);
}

/* ===== å¹ãå‡ºã—ä¸Šè¾ºã®â€œæœªæ¥ãƒ©ã‚¤ãƒ³â€ ===== */
.sof-bubble {
  position: relative; /* ::before ã‚’è¼‰ã›ã‚‹åœŸå° */
}

/* ä¸¡æ–¹ã®å¹ãå‡ºã—ã«å‡ºã™ */
.sof-bubble::before {
  content: '';
  position: absolute;
  top: -1px; /* 0ã€œ-1pxã§å¾®èª¿æ•´ã€‚è¢«ã‚‹ãªã‚‰ 0 ã« */
  left: var(--accent-inset);
  right: var(--accent-inset);
  height: var(--accent-height);
  border-radius: 999px;
  background: linear-gradient(90deg, var(--accent-start), var(--accent-end));
  box-shadow: var(--accent-glow);
  pointer-events: none;
  z-index: 1;
}

/* ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã ã‘ã«ä»˜ã‘ãŸã„å ´åˆã¯ â†‘ ã‚’å‰Šé™¤ã—ã¦ã€ä¸‹ã‚’æœ‰åŠ¹åŒ–ã—ã¦ä½¿ã£ã¦ãã ã•ã„ã€‚
.sof-bubble.is-assistant::before {
  content: "";
  position: absolute;
  top: -1px;
  left: var(--accent-inset);
  right: var(--accent-inset);
  height: var(--accent-height);
  border-radius: 999px;
  background: linear-gradient(90deg, var(--accent-start), var(--accent-end));
  box-shadow: var(--accent-glow);
  pointer-events: none;
  z-index: 1;
}
*/

/* ãƒ¦ãƒ¼ã‚¶ãƒ¼å¹ãå‡ºã—ã®ä¸Šãƒ©ã‚¤ãƒ³ã ã‘éè¡¨ç¤ºã«ã™ã‚‹ */
.sof-bubble.is-user::before {
  content: none !important;
}

/* =========================
   åŸºæœ¬ãƒˆãƒ¼ãƒ³ï¼ˆãŠå¥½ã¿ã§èª¿æ•´å¯ï¼‰
========================= */
:root,
.sof-container {
  /* ãƒ¦ãƒ¼ã‚¶ãƒ¼å¹ãå‡ºã—ï¼ˆé’ã‚°ãƒ©ãƒ‡ï¼‰ */
  --user-start: #4da3ff;
  --user-end: #7a5dff;
  --user-text: #ffffff;

  /* AIå¹ãå‡ºã—ï¼ˆç™½ï½è–„é’ãƒ»æ /å½±ï¼‰ */
  --ai-bg1: #ffffff;
  --ai-bg2: #f7fbff;
  --ai-border: rgba(90, 140, 220, 0.25);
  --ai-shadow: 0 6px 22px rgba(15, 35, 80, 0.1);

  /* AIã‚¢ã‚¤ã‚³ãƒ³ã®å…‰è¼ª */
  --ai-aura1: #51e1cf; /* ã‚¿ãƒ¼ã‚³ã‚¤ã‚º */
  --ai-aura2: #4fc3ff; /* ã‚·ã‚¢ãƒ³å¯„ã‚Š */
}

/* =========================
   å¹ãå‡ºã—å·®åˆ¥åŒ–
========================= */
.sof-container .msg--user .bubble {
  background: linear-gradient(135deg, var(--user-start), var(--user-end));
  color: var(--user-text);
  border: none;
  box-shadow: 0 6px 16px rgba(76, 84, 190, 0.22);
  border-radius: 14px 14px 6px 14px; /* å·¦ä¸‹ã ã‘å°‘ã—å°–ã‚‰ã›ã¦å‘ãã®é•ã„ã‚’å‡ºã™ */
}
.sof-container .msg--user .bubble a {
  color: #fff;
  text-decoration: underline;
}

/* AIã¯ç™½ç³»ï¼‹è–„ã„æ ï¼†æŸ”ã‚‰ã‹ã„å½± */
.sof-container .msg--ai .bubble {
  position: relative;
  background: linear-gradient(180deg, var(--ai-bg1), var(--ai-bg2));
  border: 1px solid var(--ai-border);
  box-shadow: var(--ai-shadow);
  border-radius: 14px 14px 14px 6px; /* å³ä¸‹ã ã‘å°‘ã—å°–ã‚‰ã›ã‚‹ */
  color: #0e1a2d;
}

/* ï¼ˆä»»æ„ï¼‰AIå¹ãå‡ºã—ã«ç´°ã„ã‚¢ã‚¯ã‚»ãƒ³ãƒˆãƒ©ã‚¤ãƒ³ */
.sof-container .msg--ai .bubble::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 10px;
  width: 3px;
  height: calc(100% - 20px);
  border-radius: 3px;
  background: linear-gradient(180deg, #6bf0dd, #6bb9ff);
  box-shadow: 0 0 10px rgba(80, 190, 240, 0.35);
}

/* =========================
   AIã‚¢ã‚¤ã‚³ãƒ³ã‚’â€œä¸¸ï¼‹å…‰â€ã«
========================= */
.sof-container .msg--ai .avatar {
  position: relative;
  width: 36px;
  height: 36px;
  border-radius: 999px;
  overflow: visible; /* å…‰è¼ªã‚’è¦‹ã›ã‚‹ãŸã‚ */
  background: radial-gradient(circle at 35% 35%, #eefefd, #e7f6ff 60%, #d9efff 100%);
  box-shadow: 0 0 0 2px #fff; /* ç™½ã„ç¸å–ã‚Šã§æµ®ã‹ã›ã‚‹ */
}
.sof-container .msg--ai .avatar img {
  border-radius: 999px;
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* å…‰ã®ã‚ªãƒ¼ãƒ©ï¼ˆã«ã˜ã‚€ãƒªãƒ³ã‚°ï¼‰ */
.sof-container .msg--ai .avatar::before {
  content: '';
  position: absolute;
  inset: -8px;
  border-radius: inherit;
  background: radial-gradient(circle, var(--ai-aura1) 0%, var(--ai-aura2) 45%, transparent 60%);
  filter: blur(12px);
  opacity: 0.55;
  pointer-events: none;
}

/* =========================
   â€œAIãŒå¿œç­”ä¸­â€ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
   - æ—¢ã«ã€Œè¿”ä¿¡ä¸­ã®ä»®ãƒãƒ–ãƒ«ã€ã‚’å‡ºã—ã¦ã„ã‚‹å ´åˆã¯
     .msg--ai.pending ãŒã‚ã‚Œã°è‡ªå‹•ã§è¡¨ç¤º
   - ãã†ã§ãªã„å ´åˆã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã« data-typing="ai" ã‚’ä»˜ã‘ã‚Œã°è¡¨ç¤º
========================= */
.sof-container .typing-badge {
  position: sticky; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸­ã‚‚ä¸‹è¾ºã«è¿½éš */
  bottom: 8px;
  margin-left: auto; /* å³å¯„ã›ã®å°ã•ãªãƒ”ãƒ« */
  display: none;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  color: #fff;
  background: rgba(13, 22, 45, 0.75);
  backdrop-filter: blur(6px);
  box-shadow: 0 2px 10px rgba(10, 20, 40, 0.25);
  z-index: 2;
}

/* æ¡ä»¶1: è¿”ä¿¡ä¸­ã®ä»®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚‹ï¼ˆJSä¸è¦ã€DOMã« .msg--ai.pending ãŒå‡ºã¦ã„ã‚Œã°OKï¼‰ */
.sof-container:has(.message-list .msg--ai.pending) .typing-badge {
  display: inline-flex;
}
/* æ¡ä»¶2: ãƒ«ãƒ¼ãƒˆã« data-typing="ai" ã‚’ä»˜ä¸ã—ãŸå ´åˆï¼ˆçŠ¶æ…‹ç®¡ç†ã—ã¦ã„ã‚‹ãªã‚‰1è¡Œã§åˆ¶å¾¡å¯ï¼‰ */
.sof-container[data-typing='ai'] .typing-badge {
  display: inline-flex;
}

/* 3ç‚¹ãƒ‰ãƒƒãƒˆï¼ˆCSSã®ã¿ï¼‰ */
.sof-container .typing-badge .dots {
  display: inline-flex;
  gap: 4px;
}
.sof-container .typing-badge .dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.25;
  transform: translateY(0);
  animation: typingBlink 1.2s infinite;
}
.sof-container .typing-badge .dot:nth-child(2) {
  animation-delay: 0.15s;
}
.sof-container .typing-badge .dot:nth-child(3) {
  animation-delay: 0.3s;
}

@keyframes typingBlink {
  0%,
  80%,
  100% {
    opacity: 0.25;
    transform: translateY(0);
  }
  40% {
    opacity: 1;
    transform: translateY(-2px);
  }
}

/* =========================
   ç´°ã‹ã„èª¿æ•´ï¼ˆè¡Œé–“ãƒ»ä½™ç™½ï¼‰
========================= */
.sof-container .bubble {
  line-height: 1.65;
}
.sof-container .msg--user .bubble,
.sof-container .msg--ai .bubble {
  padding: 12px 14px;
}

.sof-container .msg--ai .avatar::before {
  content: '';
  position: absolute;
  inset: -10px; /* å…‰ã‚’åºƒã‚ã« */
  border-radius: inherit;
  background: radial-gradient(circle, #6bf0dd 0%, #4fc3ff 40%, transparent 70%);
  filter: blur(16px); /* ã‚‚ã£ã¨ã«ã˜ã¾ã›ã‚‹ */
  opacity: 0.75; /* å…‰é‡ã‚’å¼·ã‚ã‚‹ */
  pointer-events: none;
}

/* ========== Safe Area Utilities ========== */

/* ä¸‹æ–¹å‘ã«ä½™ç™½ã‚’ç¢ºä¿ */
.pb-safe {
  padding-bottom: max(env(safe-area-inset-bottom), 16px);
}

/* ä¸Šæ–¹å‘ã«ä½™ç™½ã‚’ç¢ºä¿ï¼ˆãƒãƒƒãƒå¯¾å¿œç”¨ï¼‰ */
.pt-safe {
  padding-top: max(env(safe-area-inset-top), 16px);
}

/* å·¦æ–¹å‘ã«ä½™ç™½ã‚’ç¢ºä¿ï¼ˆæ¨ªå‘ãå¯¾å¿œç”¨ï¼‰ */
.pl-safe {
  padding-left: max(env(safe-area-inset-left), 16px);
}

/* å³æ–¹å‘ã«ä½™ç™½ã‚’ç¢ºä¿ï¼ˆæ¨ªå‘ãå¯¾å¿œç”¨ï¼‰ */
.pr-safe {
  padding-right: max(env(safe-area-inset-right), 16px);
}

/* ã©ã“ã‹å…±é€šCSSï¼ˆ:root ã§ã‚‚OKï¼‰ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ç”¨æ„ */
:root {
  --footer-max-w: 520px; /* ãƒ•ãƒƒã‚¿ãƒ¼ã®æœ€å¤§å¹…ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ */
}

/* ãƒãƒ£ãƒƒãƒˆç”»é¢é…ä¸‹ã§ã¯ main / .mu-inner ã®å›ºå®šå¹…ã‚’è§£é™¤ */
.sofia-container main,
.sofia-container .mu-inner {
  max-width: none !important;
  width: 100% !important;
}

/* === å¾®èª¿æ•´ï¼šã‚¿ã‚¤ãƒ«ã¯æ®ãˆç½®ãã€ã‚¢ã‚¤ã‚³ãƒ³/æ–‡å­—ã ã‘å°‘ã—å¤§ãã === */
body.mu-dashboard .tile .tile-icon {
  /* 0.48â†’0.52 ã«ã—ã¦æœ€å¤§ã‚‚ 48â†’52px ã«ã‚¢ãƒƒãƒ— */
  width: clamp(36px, calc(var(--tile-size) * 0.52), 52px) !important;
  height: clamp(36px, calc(var(--tile-size) * 0.52), 52px) !important;
}

body.mu-dashboard .tile .tile-label {
  /* 0.14â†’0.155ã€æœ€å¤§ 14â†’15px */
  font-size: clamp(12.5px, calc(var(--tile-size) * 0.155), 15px) !important;
}



/* ==== Global layout vars for Iros ==== */
:root{
  --header-h: 44px;                         /* IrosHeader ã®å®Ÿé«˜ã•ã«åˆã‚ã›ã‚‹ */
  --footer-safe-pad: 56px;                  /* ä¸‹éƒ¨ãƒŠãƒ“ã®é«˜ã• */
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}
